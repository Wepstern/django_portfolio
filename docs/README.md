# Portfolio Website with Django
This project is a simple one-page website where you can share your resume, projects, ideas and expertise. The project is written in Django, relies on Bootstrap on the frontend side and the Pytest framework on the testing side. The Continuous integration and delivery processes rely on GitHub Actions, Heroku and Cloudinary.

Currently the page can be loaded with data via the Django builtin admin site, but in the future I would like to enable this directly via a dedicated admin site where the uploaded data and the result of the page formatting can be seen immediately.

## Development Environment
The django project currently has three settings
- One for local, development environment: ./djportfolio/djportfolio/settings.py
- One for local, test environment: ./djportfolio/djportfolio/test_settings.py
- One for production environment: ./djportfolio/djportfolio/production_settings.py

You can easily create the local, test and development environment using helperscripts. Currently the project is only macOS "friendly", because the helper scripsts are written in shell. I do not plan to implement the project on the "Windows way", because I want to containerise the project in the future.

Before running the scripts, the following environment variables must be set for django super user creation (email, name, password).

Open your zprofile
```bash
% open ~/.zprofile
```

Add the three new line below to zprofile, then save it and restart your terminal.
```bash
export DP_SUPERUSER_NAME=[name_of_superuser]
export DP_SUPERUSER_EMAIL=[email_of_superuser]
export DP_SUPERUSER_PASSWORD=[password_of_superuser]
```

Setting up a development environment using helper scripts
```bash
scripts % ./install_dev_env.sh
```

The helper scripts will ...
- Install locally the npm packages specified in the package.json file (bootstrap, bootstrap-icons, popperjs/core)
- Create a python virtual environment and install locally the python packages specified in the requirements.txt
- Collect django static files
- Migrate django databse
- Create django superuser

... and, you are ready to work! 

After completing the following steps git pre-commit and pre-push will run automatically tests and create coverage report. Due to the size of the project, flawless test execution and 100% coverage is mandatory for admin.py, models.py and views.py to perform commit and push operations. Currently the project has no UI test, but I will change that in the future.

<i>Manually development environment creation - Under construction...</i>

### Running tests
Tests can be run in three ways: manually, with helper scripts, with commit and push processes. The latter is mandatory. The results of test runs and code coverage are logged. If you use the helper scripts, the coverage report will open automatically in your browser.

The results of code coverage results can be found in two locations: 
- django_portfolio/djportfolio/htmlcov/index.html
- django_portfolio/djportfolio/coverage.xml 

The former is generated during test execution by manual or helper scripts, while the latter is generated by pre-commit and pre-push scripts. The results of running the pre-commit and pre-push test are processed by the scripts/coverage_checker.py script, and only return zero when 100% coverage is achieved, allowing the commit and push process to complete.

Running tests directly from terminal
```bash
django_portfolio % cd djportfolio
django_portfolio % cd pytest
```

Running tests using helper scripts
```bash
scripts % ./runtest.sh
```

### Running the server
The server can also be started using the helper scripts and directly from terminal.

Running the server directly from terminal
```bash
django_portfolio % source venv/django_portfolio/bin/activate
django_portfolio % python djportfolio/manage.py runserver
```

Running the server using helper scripts from terminal
```bash
scripts % ./runserver.sh
```
## Production Environment
<i>Under construction...</i>
